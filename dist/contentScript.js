console.log("TabSmart content script loaded");chrome.runtime.onMessage.addListener((n,t,e)=>{if(console.log("Content script received message:",n),n.action==="updatePinState"){const d=n.isPinned;i(d),e({success:!0})}return!0});function i(n){const t="tabsmart-pinned-element";let e=document.getElementById(t);n?e||(e=document.createElement("div"),e.id=t,e.style.position="fixed",e.style.top="10px",e.style.right="10px",e.style.backgroundColor="rgba(255, 255, 255, 0.9)",e.style.border="1px solid #ccc",e.style.padding="10px",e.style.zIndex="10000",e.innerText="TabSmart Extension - Pinned",document.body.appendChild(e)):e&&document.body.removeChild(e)}chrome.runtime.sendMessage({action:"getPinState"},n=>{n&&n.isPinned!==void 0&&i(n.isPinned)});
